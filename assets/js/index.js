(window.webpackJsonp=window.webpackJsonp||[]).push([[1],{392:function(n,t,e){var r;!function(){"use strict";var i=.5*(Math.sqrt(3)-1),o=(3-Math.sqrt(3))/6,a=1/6,c=(Math.sqrt(5)-1)/4,s=(5-Math.sqrt(5))/20;function u(n){var t;t="function"==typeof n?n:n?function(){var n=0,t=0,e=0,r=1,i=f();n=i(" "),t=i(" "),e=i(" ");for(var o=0;o<arguments.length;o++)(n-=i(arguments[o]))<0&&(n+=1),(t-=i(arguments[o]))<0&&(t+=1),(e-=i(arguments[o]))<0&&(e+=1);return i=null,function(){var i=2091639*n+2.3283064365386963e-10*r;return n=t,t=e,e=i-(r=0|i)}}(n):Math.random,this.p=l(t),this.perm=new Uint8Array(512),this.permMod12=new Uint8Array(512);for(var e=0;e<512;e++)this.perm[e]=this.p[255&e],this.permMod12[e]=this.perm[e]%12}function l(n){var t,e=new Uint8Array(256);for(t=0;t<256;t++)e[t]=t;for(t=0;t<255;t++){var r=t+~~(n()*(256-t)),i=e[t];e[t]=e[r],e[r]=i}return e}function f(){var n=4022871197;return function(t){t=t.toString();for(var e=0;e<t.length;e++){var r=.02519603282416938*(n+=t.charCodeAt(e));r-=n=r>>>0,n=(r*=n)>>>0,n+=4294967296*(r-=n)}return 2.3283064365386963e-10*(n>>>0)}}u.prototype={grad3:new Float32Array([1,1,0,-1,1,0,1,-1,0,-1,-1,0,1,0,1,-1,0,1,1,0,-1,-1,0,-1,0,1,1,0,-1,1,0,1,-1,0,-1,-1]),grad4:new Float32Array([0,1,1,1,0,1,1,-1,0,1,-1,1,0,1,-1,-1,0,-1,1,1,0,-1,1,-1,0,-1,-1,1,0,-1,-1,-1,1,0,1,1,1,0,1,-1,1,0,-1,1,1,0,-1,-1,-1,0,1,1,-1,0,1,-1,-1,0,-1,1,-1,0,-1,-1,1,1,0,1,1,1,0,-1,1,-1,0,1,1,-1,0,-1,-1,1,0,1,-1,1,0,-1,-1,-1,0,1,-1,-1,0,-1,1,1,1,0,1,1,-1,0,1,-1,1,0,1,-1,-1,0,-1,1,1,0,-1,1,-1,0,-1,-1,1,0,-1,-1,-1,0]),noise2D:function(n,t){var e,r,a=this.permMod12,c=this.perm,s=this.grad3,u=0,l=0,f=0,v=(n+t)*i,h=Math.floor(n+v),d=Math.floor(t+v),m=(h+d)*o,g=n-(h-m),y=t-(d-m);g>y?(e=1,r=0):(e=0,r=1);var x=g-e+o,p=y-r+o,b=g-1+2*o,w=y-1+2*o,z=255&h,M=255&d,P=.5-g*g-y*y;if(P>=0){var S=3*a[z+c[M]];u=(P*=P)*P*(s[S]*g+s[S+1]*y)}var k=.5-x*x-p*p;if(k>=0){var T=3*a[z+e+c[M+r]];l=(k*=k)*k*(s[T]*x+s[T+1]*p)}var D=.5-b*b-w*w;if(D>=0){var _=3*a[z+1+c[M+1]];f=(D*=D)*D*(s[_]*b+s[_+1]*w)}return 70*(u+l+f)},noise3D:function(n,t,e){var r,i,o,c,s,u,l,f,v,h,d=this.permMod12,m=this.perm,g=this.grad3,y=(n+t+e)*(1/3),x=Math.floor(n+y),p=Math.floor(t+y),b=Math.floor(e+y),w=(x+p+b)*a,z=n-(x-w),M=t-(p-w),P=e-(b-w);z>=M?M>=P?(s=1,u=0,l=0,f=1,v=1,h=0):z>=P?(s=1,u=0,l=0,f=1,v=0,h=1):(s=0,u=0,l=1,f=1,v=0,h=1):M<P?(s=0,u=0,l=1,f=0,v=1,h=1):z<P?(s=0,u=1,l=0,f=0,v=1,h=1):(s=0,u=1,l=0,f=1,v=1,h=0);var S=z-s+a,k=M-u+a,T=P-l+a,D=z-f+2*a,_=M-v+2*a,A=P-h+2*a,L=z-1+.5,E=M-1+.5,I=P-1+.5,R=255&x,C=255&p,F=255&b,j=.6-z*z-M*M-P*P;if(j<0)r=0;else{var W=3*d[R+m[C+m[F]]];r=(j*=j)*j*(g[W]*z+g[W+1]*M+g[W+2]*P)}var Y=.6-S*S-k*k-T*T;if(Y<0)i=0;else{var B=3*d[R+s+m[C+u+m[F+l]]];i=(Y*=Y)*Y*(g[B]*S+g[B+1]*k+g[B+2]*T)}var O=.6-D*D-_*_-A*A;if(O<0)o=0;else{var q=3*d[R+f+m[C+v+m[F+h]]];o=(O*=O)*O*(g[q]*D+g[q+1]*_+g[q+2]*A)}var H=.6-L*L-E*E-I*I;if(H<0)c=0;else{var G=3*d[R+1+m[C+1+m[F+1]]];c=(H*=H)*H*(g[G]*L+g[G+1]*E+g[G+2]*I)}return 32*(r+i+o+c)},noise4D:function(n,t,e,r){var i,o,a,u,l,f,v,h,d,m,g,y,x,p,b,w,z,M=this.perm,P=this.grad4,S=(n+t+e+r)*c,k=Math.floor(n+S),T=Math.floor(t+S),D=Math.floor(e+S),_=Math.floor(r+S),A=(k+T+D+_)*s,L=n-(k-A),E=t-(T-A),I=e-(D-A),R=r-(_-A),C=0,F=0,j=0,W=0;L>E?C++:F++,L>I?C++:j++,L>R?C++:W++,E>I?F++:j++,E>R?F++:W++,I>R?j++:W++;var Y=L-(f=C>=3?1:0)+s,B=E-(v=F>=3?1:0)+s,O=I-(h=j>=3?1:0)+s,q=R-(d=W>=3?1:0)+s,H=L-(m=C>=2?1:0)+2*s,G=E-(g=F>=2?1:0)+2*s,U=I-(y=j>=2?1:0)+2*s,X=R-(x=W>=2?1:0)+2*s,Z=L-(p=C>=1?1:0)+3*s,V=E-(b=F>=1?1:0)+3*s,N=I-(w=j>=1?1:0)+3*s,J=R-(z=W>=1?1:0)+3*s,K=L-1+4*s,Q=E-1+4*s,$=I-1+4*s,nn=R-1+4*s,tn=255&k,en=255&T,rn=255&D,on=255&_,an=.6-L*L-E*E-I*I-R*R;if(an<0)i=0;else{var cn=M[tn+M[en+M[rn+M[on]]]]%32*4;i=(an*=an)*an*(P[cn]*L+P[cn+1]*E+P[cn+2]*I+P[cn+3]*R)}var sn=.6-Y*Y-B*B-O*O-q*q;if(sn<0)o=0;else{var un=M[tn+f+M[en+v+M[rn+h+M[on+d]]]]%32*4;o=(sn*=sn)*sn*(P[un]*Y+P[un+1]*B+P[un+2]*O+P[un+3]*q)}var ln=.6-H*H-G*G-U*U-X*X;if(ln<0)a=0;else{var fn=M[tn+m+M[en+g+M[rn+y+M[on+x]]]]%32*4;a=(ln*=ln)*ln*(P[fn]*H+P[fn+1]*G+P[fn+2]*U+P[fn+3]*X)}var vn=.6-Z*Z-V*V-N*N-J*J;if(vn<0)u=0;else{var hn=M[tn+p+M[en+b+M[rn+w+M[on+z]]]]%32*4;u=(vn*=vn)*vn*(P[hn]*Z+P[hn+1]*V+P[hn+2]*N+P[hn+3]*J)}var dn=.6-K*K-Q*Q-$*$-nn*nn;if(dn<0)l=0;else{var mn=M[tn+1+M[en+1+M[rn+1+M[on+1]]]]%32*4;l=(dn*=dn)*dn*(P[mn]*K+P[mn+1]*Q+P[mn+2]*$+P[mn+3]*nn)}return 27*(i+o+a+u+l)}},u._buildPermutationTable=l,void 0===(r=function(){return u}.call(t,e,t,n))||(n.exports=r),t.SimplexNoise=u,n.exports=u}()},393:function(n,t,e){n.exports=function(){var n=function(){function t(n){return i.appendChild(n.dom),n}function e(n){for(var t=0;t<i.children.length;t++)i.children[t].style.display=t===n?"block":"none";r=n}var r=0,i=document.createElement("div");i.style.cssText="position:fixed;top:0;left:0;cursor:pointer;opacity:0.9;z-index:10000",i.addEventListener("click",(function(n){n.preventDefault(),e(++r%i.children.length)}),!1);var o=(performance||Date).now(),a=o,c=0,s=t(new n.Panel("FPS","#0ff","#002")),u=t(new n.Panel("MS","#0f0","#020"));if(self.performance&&self.performance.memory)var l=t(new n.Panel("MB","#f08","#201"));return e(0),{REVISION:16,dom:i,addPanel:t,showPanel:e,begin:function(){o=(performance||Date).now()},end:function(){c++;var n=(performance||Date).now();if(u.update(n-o,200),n>a+1e3&&(s.update(1e3*c/(n-a),100),a=n,c=0,l)){var t=performance.memory;l.update(t.usedJSHeapSize/1048576,t.jsHeapSizeLimit/1048576)}return n},update:function(){o=this.end()},domElement:i,setMode:e}};return n.Panel=function(n,t,e){var r=1/0,i=0,o=Math.round,a=o(window.devicePixelRatio||1),c=80*a,s=48*a,u=3*a,l=2*a,f=3*a,v=15*a,h=74*a,d=30*a,m=document.createElement("canvas");m.width=c,m.height=s,m.style.cssText="width:80px;height:48px";var g=m.getContext("2d");return g.font="bold "+9*a+"px Helvetica,Arial,sans-serif",g.textBaseline="top",g.fillStyle=e,g.fillRect(0,0,c,s),g.fillStyle=t,g.fillText(n,u,l),g.fillRect(f,v,h,d),g.fillStyle=e,g.globalAlpha=.9,g.fillRect(f,v,h,d),{dom:m,update:function(s,y){r=Math.min(r,s),i=Math.max(i,s),g.fillStyle=e,g.globalAlpha=1,g.fillRect(0,0,c,v),g.fillStyle=t,g.fillText(o(s)+" "+n+" ("+o(r)+"-"+o(i)+")",u,l),g.drawImage(m,f+a,v,h-a,d,f,v,h-a,d),g.fillRect(f+h-a,v,a,d),g.fillStyle=e,g.globalAlpha=.9,g.fillRect(f+h-a,v,a,o((1-s/y)*d))}}},n}()},394:function(n,t,e){"use strict";e.r(t),e.d(t,"default",(function(){return En}));var r={};e.r(r),e.d(r,"create",(function(){return S})),e.d(r,"clone",(function(){return k})),e.d(r,"length",(function(){return T})),e.d(r,"fromValues",(function(){return D})),e.d(r,"copy",(function(){return _})),e.d(r,"set",(function(){return A})),e.d(r,"add",(function(){return L})),e.d(r,"subtract",(function(){return E})),e.d(r,"multiply",(function(){return I})),e.d(r,"divide",(function(){return R})),e.d(r,"ceil",(function(){return C})),e.d(r,"floor",(function(){return F})),e.d(r,"min",(function(){return j})),e.d(r,"max",(function(){return W})),e.d(r,"round",(function(){return Y})),e.d(r,"scale",(function(){return B})),e.d(r,"scaleAndAdd",(function(){return O})),e.d(r,"distance",(function(){return q})),e.d(r,"squaredDistance",(function(){return H})),e.d(r,"squaredLength",(function(){return G})),e.d(r,"negate",(function(){return U})),e.d(r,"inverse",(function(){return X})),e.d(r,"normalize",(function(){return Z})),e.d(r,"dot",(function(){return V})),e.d(r,"cross",(function(){return N})),e.d(r,"lerp",(function(){return J})),e.d(r,"hermite",(function(){return K})),e.d(r,"bezier",(function(){return Q})),e.d(r,"random",(function(){return $})),e.d(r,"transformMat4",(function(){return nn})),e.d(r,"transformMat3",(function(){return tn})),e.d(r,"transformQuat",(function(){return en})),e.d(r,"rotateX",(function(){return rn})),e.d(r,"rotateY",(function(){return on})),e.d(r,"rotateZ",(function(){return an})),e.d(r,"angle",(function(){return cn})),e.d(r,"zero",(function(){return sn})),e.d(r,"str",(function(){return un})),e.d(r,"exactEquals",(function(){return ln})),e.d(r,"equals",(function(){return fn})),e.d(r,"sub",(function(){return vn})),e.d(r,"mul",(function(){return hn})),e.d(r,"div",(function(){return dn})),e.d(r,"dist",(function(){return mn})),e.d(r,"sqrDist",(function(){return gn})),e.d(r,"len",(function(){return yn})),e.d(r,"sqrLen",(function(){return xn})),e.d(r,"forEach",(function(){return pn}));var i=e(4),o=(e(392),function(n,t,e){return[Math.cos(n)*Math.cos(t)*e,Math.sin(n)*e,Math.cos(n)*Math.sin(t)*e]}),a=function(n){return n*Math.PI/180},c=function(n,t,e){return Math.max(t,Math.min(e,n))},s=function(n){n.x=n.x/document.body.clientWidth*2-1,n.y=-n.y/window.innerHeight*2+1};function u(n,t){for(var e=0;e<t.length;e++){var r=t[e];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,r.key,r)}}var l=function(){function n(){!function(n,t){if(!(n instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n),this.uniforms={time:{type:"f",value:0}},this.instances=window.innerWidth<769?600:1e3,this.obj}var t,e,r;return t=n,(e=[{key:"init",value:function(){this.obj=this.createObj()}},{key:"createObj",value:function(){var n=new i.i,t=new i.d(5,4,12,20,4),e=t.attributes.position.clone();n.setAttribute("position",e);var r=t.attributes.normal.clone();n.setAttribute("normals",r);var a=t.attributes.normal.clone();n.setAttribute("uv",a);var c=t.index.clone();n.setIndex(c),this.translate=new i.h(new Float32Array(3*this.instances),3),this.offsets=new i.h(new Float32Array(this.instances),1),this.rotates=new i.h(new Float32Array(3*this.instances),3),this.plights=new i.h(new Float32Array(3*this.instances),3),this.sharedPosition=[];for(var s=0,u=this.offsets.count;s<u;s++){var l=o(2*Math.random()*Math.PI,2*Math.random()*Math.PI,3e3*Math.random()+100);this.translate.setXYZ(s,l[0],l[1],l[2]),this.offsets.setX(s,100*Math.random()),this.rotates.setXYZ(s,Math.random()-.5,Math.random()-.5,Math.random()-.5),this.plights.setXYZ(s,l[0],l[1]-5,l[2])}return n.setAttribute("translate",this.translate),n.setAttribute("offset",this.offsets),n.setAttribute("rotate",this.rotates),n.setAttribute("plight",this.plights),new i.k(n,new i.s({uniforms:this.uniforms,vertexShader:"#define GLSLIFY 1\nattribute vec3 position;\nattribute vec3 normal;\nattribute vec3 translate;\nattribute float offset;\nattribute vec3 rotate;\nattribute vec3 plight;\n\nuniform mat4 projectionMatrix;\nuniform mat4 modelViewMatrix;\nuniform mat4 modelMatrix;\nuniform float time;\n\nvarying vec3 vIniPosition;\nvarying vec3 vPosition;\nvarying vec3 vNormal;\nvarying vec3 vPlight;\nmat4 calcTranslateMat4(vec3 v) {\n  return mat4(\n    1.0, 0.0, 0.0, 0.0,\n    0.0, 1.0, 0.0, 0.0,\n    0.0, 0.0, 1.0, 0.0,\n    v.x, v.y, v.z, 1.0\n  );\n}\n\nmat4 calcRotateMat4X(float radian) {\n  return mat4(\n    1.0, 0.0, 0.0, 0.0,\n    0.0, cos(radian), -sin(radian), 0.0,\n    0.0, sin(radian), cos(radian), 0.0,\n    0.0, 0.0, 0.0, 1.0\n  );\n}\n\nmat4 calcRotateMat4Y(float radian) {\n  return mat4(\n    cos(radian), 0.0, sin(radian), 0.0,\n    0.0, 1.0, 0.0, 0.0,\n    -sin(radian), 0.0, cos(radian), 0.0,\n    0.0, 0.0, 0.0, 1.0\n  );\n}\n\nmat4 calcRotateMat4Z(float radian) {\n  return mat4(\n    cos(radian), -sin(radian), 0.0, 0.0,\n    sin(radian), cos(radian), 0.0, 0.0,\n    0.0, 0.0, 1.0, 0.0,\n    0.0, 0.0, 0.0, 1.0\n  );\n}\n\nmat4 calcRotateMat4(vec3 radian) {\n  return calcRotateMat4X(radian.x) * calcRotateMat4Y(radian.y) * calcRotateMat4Z(radian.z);\n}\n\nvoid main(void){\n  float repeat=fract(time/60.)-30.;\n  float radian=radians(time);\n  mat4 rotateWorld=calcRotateMat4(vec3(radian)*vec3(0.,4.,0.)+rotate);\n  vec4 updatePosition=\n  rotateWorld\n  *calcTranslateMat4(translate)\n  *vec4(position,1.);\n  vPosition=(modelMatrix*updatePosition).xyz;\n  vNormal=(modelMatrix*rotateWorld*vec4(normal,0.)).xyz;\n  vPlight=(modelMatrix*rotateWorld*vec4(plight,1.)).xyz;\n  vIniPosition = position;\n  // vPlight=vec3(0.,0.,0.);\n  gl_Position=projectionMatrix*modelViewMatrix*updatePosition;\n}",fragmentShader:'precision highp float;\n#define GLSLIFY 1\n\nuniform vec3 cameraPosition;\nuniform float time;\nuniform samplerCube cubeTex;\n\nvarying vec3 vIniPosition;\nvarying vec3 vPosition;\nvarying vec3 vNormal;\nvarying vec3 vPlight;\n//\n// GLSL textureless classic 3D noise "cnoise",\n// with an RSL-style periodic variant "pnoise".\n// Author:  Stefan Gustavson (stefan.gustavson@liu.se)\n// Version: 2011-10-11\n//\n// Many thanks to Ian McEwan of Ashima Arts for the\n// ideas for permutation and gradient selection.\n//\n// Copyright (c) 2011 Stefan Gustavson. All rights reserved.\n// Distributed under the MIT license. See LICENSE file.\n// https://github.com/ashima/webgl-noise\n//\n\nvec3 mod289(vec3 x)\n{\n  return x - floor(x * (1.0 / 289.0)) * 289.0;\n}\n\nvec4 mod289(vec4 x)\n{\n  return x - floor(x * (1.0 / 289.0)) * 289.0;\n}\n\nvec4 permute(vec4 x)\n{\n  return mod289(((x*34.0)+1.0)*x);\n}\n\nvec4 taylorInvSqrt(vec4 r)\n{\n  return 1.79284291400159 - 0.85373472095314 * r;\n}\n\nvec3 fade(vec3 t) {\n  return t*t*t*(t*(t*6.0-15.0)+10.0);\n}\n\n// Classic Perlin noise\nfloat cnoise(vec3 P)\n{\n  vec3 Pi0 = floor(P); // Integer part for indexing\n  vec3 Pi1 = Pi0 + vec3(1.0); // Integer part + 1\n  Pi0 = mod289(Pi0);\n  Pi1 = mod289(Pi1);\n  vec3 Pf0 = fract(P); // Fractional part for interpolation\n  vec3 Pf1 = Pf0 - vec3(1.0); // Fractional part - 1.0\n  vec4 ix = vec4(Pi0.x, Pi1.x, Pi0.x, Pi1.x);\n  vec4 iy = vec4(Pi0.yy, Pi1.yy);\n  vec4 iz0 = Pi0.zzzz;\n  vec4 iz1 = Pi1.zzzz;\n\n  vec4 ixy = permute(permute(ix) + iy);\n  vec4 ixy0 = permute(ixy + iz0);\n  vec4 ixy1 = permute(ixy + iz1);\n\n  vec4 gx0 = ixy0 * (1.0 / 7.0);\n  vec4 gy0 = fract(floor(gx0) * (1.0 / 7.0)) - 0.5;\n  gx0 = fract(gx0);\n  vec4 gz0 = vec4(0.5) - abs(gx0) - abs(gy0);\n  vec4 sz0 = step(gz0, vec4(0.0));\n  gx0 -= sz0 * (step(0.0, gx0) - 0.5);\n  gy0 -= sz0 * (step(0.0, gy0) - 0.5);\n\n  vec4 gx1 = ixy1 * (1.0 / 7.0);\n  vec4 gy1 = fract(floor(gx1) * (1.0 / 7.0)) - 0.5;\n  gx1 = fract(gx1);\n  vec4 gz1 = vec4(0.5) - abs(gx1) - abs(gy1);\n  vec4 sz1 = step(gz1, vec4(0.0));\n  gx1 -= sz1 * (step(0.0, gx1) - 0.5);\n  gy1 -= sz1 * (step(0.0, gy1) - 0.5);\n\n  vec3 g000 = vec3(gx0.x,gy0.x,gz0.x);\n  vec3 g100 = vec3(gx0.y,gy0.y,gz0.y);\n  vec3 g010 = vec3(gx0.z,gy0.z,gz0.z);\n  vec3 g110 = vec3(gx0.w,gy0.w,gz0.w);\n  vec3 g001 = vec3(gx1.x,gy1.x,gz1.x);\n  vec3 g101 = vec3(gx1.y,gy1.y,gz1.y);\n  vec3 g011 = vec3(gx1.z,gy1.z,gz1.z);\n  vec3 g111 = vec3(gx1.w,gy1.w,gz1.w);\n\n  vec4 norm0 = taylorInvSqrt(vec4(dot(g000, g000), dot(g010, g010), dot(g100, g100), dot(g110, g110)));\n  g000 *= norm0.x;\n  g010 *= norm0.y;\n  g100 *= norm0.z;\n  g110 *= norm0.w;\n  vec4 norm1 = taylorInvSqrt(vec4(dot(g001, g001), dot(g011, g011), dot(g101, g101), dot(g111, g111)));\n  g001 *= norm1.x;\n  g011 *= norm1.y;\n  g101 *= norm1.z;\n  g111 *= norm1.w;\n\n  float n000 = dot(g000, Pf0);\n  float n100 = dot(g100, vec3(Pf1.x, Pf0.yz));\n  float n010 = dot(g010, vec3(Pf0.x, Pf1.y, Pf0.z));\n  float n110 = dot(g110, vec3(Pf1.xy, Pf0.z));\n  float n001 = dot(g001, vec3(Pf0.xy, Pf1.z));\n  float n101 = dot(g101, vec3(Pf1.x, Pf0.y, Pf1.z));\n  float n011 = dot(g011, vec3(Pf0.x, Pf1.yz));\n  float n111 = dot(g111, Pf1);\n\n  vec3 fade_xyz = fade(Pf0);\n  vec4 n_z = mix(vec4(n000, n100, n010, n110), vec4(n001, n101, n011, n111), fade_xyz.z);\n  vec2 n_yz = mix(n_z.xy, n_z.zw, fade_xyz.y);\n  float n_xyz = mix(n_yz.x, n_yz.y, fade_xyz.x);\n  return 2.2 * n_xyz;\n}\n\nvoid main(){\n  float repeat = fract(time/30.0)*24.;\n  vec3 normal=normalize(cross(dFdx(vPosition),dFdy(vPosition)));\n  vec3 aLight=vec3(.7059,.5137,.1529);\n  vec3 pDir=normalize(vec3(vPlight.xyz-vPosition.xyz));\n  float diff=(dot(pDir,vec3(normal.x,normal.y,normal.z))+1.)/2.;\n  float len=length(vec3(vPlight.xyz-vPosition.xyz));\n  float intensive=(4.-len)*cnoise(vPosition*repeat*0.002);\n  vec3 color=vec3(aLight+diff*vec3(1.,1.,1.)*intensive*0.5);\n  if(vIniPosition.y<-5.){\n    discard;\n  }\n  gl_FragColor=vec4(color,1.);\n}',transparent:!0,side:i.f,flatShading:!0}))}},{key:"render",value:function(n){this.uniforms.time.value+=n}}])&&u(t.prototype,e),r&&u(t,r),n}();function f(n,t){for(var e=0;e<t.length;e++){var r=t[e];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,r.key,r)}}var v=function(){function n(){!function(n,t){if(!(n instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n),this.uniforms={time:{type:"f",value:0}},this.instances=window.innerWidth<769?600:1e3,this.obj}var t,e,r;return t=n,(e=[{key:"init",value:function(n,t,e){this.obj=this.createObj(n,t,e)}},{key:"createObj",value:function(n,t,e){var r=new i.i,o=new i.m(1,3),a=o.attributes.position.clone();r.setAttribute("position",a);var c=o.attributes.normal.clone();r.setAttribute("normals",c);var s=o.attributes.normal.clone();return r.setAttribute("uv",s),r.setAttribute("translate",n),r.setAttribute("offset",e),r.setAttribute("rotate",t),new i.k(r,new i.s({uniforms:this.uniforms,vertexShader:'#define GLSLIFY 1\nattribute vec3 position;\nattribute vec3 normal;\nattribute vec3 translate;\nattribute float offset;\nattribute vec3 rotate;\n\nuniform mat4 projectionMatrix;\nuniform mat4 modelViewMatrix;\nuniform mat4 modelMatrix;\nuniform float time;\n\nvarying vec3 vPosition;\nvarying vec3 vNormal;\nmat4 calcTranslateMat4(vec3 v) {\n  return mat4(\n    1.0, 0.0, 0.0, 0.0,\n    0.0, 1.0, 0.0, 0.0,\n    0.0, 0.0, 1.0, 0.0,\n    v.x, v.y, v.z, 1.0\n  );\n}\n\nmat4 calcRotateMat4X(float radian) {\n  return mat4(\n    1.0, 0.0, 0.0, 0.0,\n    0.0, cos(radian), -sin(radian), 0.0,\n    0.0, sin(radian), cos(radian), 0.0,\n    0.0, 0.0, 0.0, 1.0\n  );\n}\n\nmat4 calcRotateMat4Y(float radian) {\n  return mat4(\n    cos(radian), 0.0, sin(radian), 0.0,\n    0.0, 1.0, 0.0, 0.0,\n    -sin(radian), 0.0, cos(radian), 0.0,\n    0.0, 0.0, 0.0, 1.0\n  );\n}\n\nmat4 calcRotateMat4Z(float radian) {\n  return mat4(\n    cos(radian), -sin(radian), 0.0, 0.0,\n    sin(radian), cos(radian), 0.0, 0.0,\n    0.0, 0.0, 1.0, 0.0,\n    0.0, 0.0, 0.0, 1.0\n  );\n}\n\nmat4 calcRotateMat4(vec3 radian) {\n  return calcRotateMat4X(radian.x) * calcRotateMat4Y(radian.y) * calcRotateMat4Z(radian.z);\n}\n\n//\n// GLSL textureless classic 3D noise "cnoise",\n// with an RSL-style periodic variant "pnoise".\n// Author:  Stefan Gustavson (stefan.gustavson@liu.se)\n// Version: 2011-10-11\n//\n// Many thanks to Ian McEwan of Ashima Arts for the\n// ideas for permutation and gradient selection.\n//\n// Copyright (c) 2011 Stefan Gustavson. All rights reserved.\n// Distributed under the MIT license. See LICENSE file.\n// https://github.com/ashima/webgl-noise\n//\n\nvec3 mod289(vec3 x)\n{\n  return x - floor(x * (1.0 / 289.0)) * 289.0;\n}\n\nvec4 mod289(vec4 x)\n{\n  return x - floor(x * (1.0 / 289.0)) * 289.0;\n}\n\nvec4 permute(vec4 x)\n{\n  return mod289(((x*34.0)+1.0)*x);\n}\n\nvec4 taylorInvSqrt(vec4 r)\n{\n  return 1.79284291400159 - 0.85373472095314 * r;\n}\n\nvec3 fade(vec3 t) {\n  return t*t*t*(t*(t*6.0-15.0)+10.0);\n}\n\n// Classic Perlin noise\nfloat cnoise(vec3 P)\n{\n  vec3 Pi0 = floor(P); // Integer part for indexing\n  vec3 Pi1 = Pi0 + vec3(1.0); // Integer part + 1\n  Pi0 = mod289(Pi0);\n  Pi1 = mod289(Pi1);\n  vec3 Pf0 = fract(P); // Fractional part for interpolation\n  vec3 Pf1 = Pf0 - vec3(1.0); // Fractional part - 1.0\n  vec4 ix = vec4(Pi0.x, Pi1.x, Pi0.x, Pi1.x);\n  vec4 iy = vec4(Pi0.yy, Pi1.yy);\n  vec4 iz0 = Pi0.zzzz;\n  vec4 iz1 = Pi1.zzzz;\n\n  vec4 ixy = permute(permute(ix) + iy);\n  vec4 ixy0 = permute(ixy + iz0);\n  vec4 ixy1 = permute(ixy + iz1);\n\n  vec4 gx0 = ixy0 * (1.0 / 7.0);\n  vec4 gy0 = fract(floor(gx0) * (1.0 / 7.0)) - 0.5;\n  gx0 = fract(gx0);\n  vec4 gz0 = vec4(0.5) - abs(gx0) - abs(gy0);\n  vec4 sz0 = step(gz0, vec4(0.0));\n  gx0 -= sz0 * (step(0.0, gx0) - 0.5);\n  gy0 -= sz0 * (step(0.0, gy0) - 0.5);\n\n  vec4 gx1 = ixy1 * (1.0 / 7.0);\n  vec4 gy1 = fract(floor(gx1) * (1.0 / 7.0)) - 0.5;\n  gx1 = fract(gx1);\n  vec4 gz1 = vec4(0.5) - abs(gx1) - abs(gy1);\n  vec4 sz1 = step(gz1, vec4(0.0));\n  gx1 -= sz1 * (step(0.0, gx1) - 0.5);\n  gy1 -= sz1 * (step(0.0, gy1) - 0.5);\n\n  vec3 g000 = vec3(gx0.x,gy0.x,gz0.x);\n  vec3 g100 = vec3(gx0.y,gy0.y,gz0.y);\n  vec3 g010 = vec3(gx0.z,gy0.z,gz0.z);\n  vec3 g110 = vec3(gx0.w,gy0.w,gz0.w);\n  vec3 g001 = vec3(gx1.x,gy1.x,gz1.x);\n  vec3 g101 = vec3(gx1.y,gy1.y,gz1.y);\n  vec3 g011 = vec3(gx1.z,gy1.z,gz1.z);\n  vec3 g111 = vec3(gx1.w,gy1.w,gz1.w);\n\n  vec4 norm0 = taylorInvSqrt(vec4(dot(g000, g000), dot(g010, g010), dot(g100, g100), dot(g110, g110)));\n  g000 *= norm0.x;\n  g010 *= norm0.y;\n  g100 *= norm0.z;\n  g110 *= norm0.w;\n  vec4 norm1 = taylorInvSqrt(vec4(dot(g001, g001), dot(g011, g011), dot(g101, g101), dot(g111, g111)));\n  g001 *= norm1.x;\n  g011 *= norm1.y;\n  g101 *= norm1.z;\n  g111 *= norm1.w;\n\n  float n000 = dot(g000, Pf0);\n  float n100 = dot(g100, vec3(Pf1.x, Pf0.yz));\n  float n010 = dot(g010, vec3(Pf0.x, Pf1.y, Pf0.z));\n  float n110 = dot(g110, vec3(Pf1.xy, Pf0.z));\n  float n001 = dot(g001, vec3(Pf0.xy, Pf1.z));\n  float n101 = dot(g101, vec3(Pf1.x, Pf0.y, Pf1.z));\n  float n011 = dot(g011, vec3(Pf0.x, Pf1.yz));\n  float n111 = dot(g111, Pf1);\n\n  vec3 fade_xyz = fade(Pf0);\n  vec4 n_z = mix(vec4(n000, n100, n010, n110), vec4(n001, n101, n011, n111), fade_xyz.z);\n  vec2 n_yz = mix(n_z.xy, n_z.zw, fade_xyz.y);\n  float n_xyz = mix(n_yz.x, n_yz.y, fade_xyz.x);\n  return 2.2 * n_xyz;\n}\n\nvoid main(void){\n  float radian=radians(time);\n  float noise1=cnoise(\n    vec3(\n      position.x*.006+time*.5,\n      position.y*.012,\n      position.z*.06\n    )\n  );\n  float noise2=cnoise(\n    vec3(\n      position.x*.02,\n      position.y*.06,\n      position.z*.2+time*2.\n    )\n  );\n  float noise=noise1*10.+noise2*2.;\n  mat4 rotateWorld=calcRotateMat4(vec3(radian)*vec3(0.,4.,0.)+rotate);\n  vec4 updatePosition=\n  rotateWorld\n  *calcTranslateMat4(translate)\n  *vec4(position+normalize(position+0.2*noise),1.);\n  vPosition=(modelMatrix*updatePosition).xyz;\n  vNormal=(modelMatrix*rotateWorld*vec4(normal,0.)).xyz;\n  gl_Position=projectionMatrix*modelViewMatrix*updatePosition;\n}',fragmentShader:"precision highp float;\n#define GLSLIFY 1\n\nuniform vec3 cameraPosition;\nuniform float time;\nuniform samplerCube cubeTex;\n\nvarying vec3 vPosition;\nvarying vec3 vNormal;\n// varying vec3 vPlight;\nvoid main(){\n  // vec3 normal=normalize(cross(dFdx(vPosition),dFdy(vPosition)));\n  // vec3 aLight=vec3(.7059,.5137,.1529);\n  // vec3 pDir=normalize(vec3(vPlight.xyz-vPosition.xyz));\n  // float diff=(dot(pDir,normal)+1.)/2.;\n  \n  vec3 color=vec3(1.,1.,1.);\n  gl_FragColor=vec4(color,1.);\n}",side:i.f}))}},{key:"render",value:function(n){this.uniforms.time.value+=n}}])&&f(t.prototype,e),r&&f(t,r),n}();function h(n,t){for(var e=0;e<t.length;e++){var r=t[e];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,r.key,r)}}var d=function(){function n(t){!function(n,t){if(!(n instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n),this.uniforms=null,this.minBright=.2,this.texture=t,this.mesh=this.createMesh()}var t,e,r;return t=n,(e=[{key:"createMesh",value:function(){return this.uniforms={minBright:{type:"f",value:this.minBright},texture:{type:"t",value:this.texture}},new i.k(new i.p(2,2),new i.u({uniforms:this.uniforms,vertexShader:"#define GLSLIFY 1\nvarying vec2 vUv;\n\nvoid main(void){\n  vUv=uv;\n  gl_Position=vec4(position,1.);\n}",fragmentShader:"#define GLSLIFY 1\nuniform float minBright;\nuniform sampler2D texture;\n\nvarying vec2 vUv;\n\nvoid main(void){\n  vec4 bright=max(vec4(0.),(texture2D(texture,vUv)-minBright));\n  gl_FragColor=bright;\n}"}))}}])&&h(t.prototype,e),r&&h(t,r),n}();function m(n,t){for(var e=0;e<t.length;e++){var r=t[e];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,r.key,r)}}var g=function(){function n(t,e){!function(n,t){if(!(n instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n),this.uniforms=null,this.texture=t,this.direction=e,this.mesh=this.createMesh()}var t,e,r;return t=n,(e=[{key:"createMesh",value:function(){return this.uniforms={resolution:{type:"v2",value:new i.v(window.innerWidth/10,window.innerHeight/10)},direction:{type:"v2",value:this.direction},texture:{type:"t",value:this.texture}},new i.k(new i.p(2,2),new i.u({uniforms:this.uniforms,vertexShader:"#define GLSLIFY 1\nvarying vec2 vUv;\n\nvoid main(void){\n  vUv=uv;\n  gl_Position=vec4(position,1.);\n}",fragmentShader:"#define GLSLIFY 1\nuniform vec2 resolution;\nuniform vec2 direction;\nuniform sampler2D texture;\nuniform float weight[10];\n\nvarying vec2 vUv;\n\nvec4 blur13(sampler2D image, vec2 uv, vec2 resolution, vec2 direction) {\n  vec4 color = vec4(0.0);\n  vec2 off1 = vec2(1.411764705882353) * direction;\n  vec2 off2 = vec2(3.2941176470588234) * direction;\n  vec2 off3 = vec2(5.176470588235294) * direction;\n  color += texture2D(image, uv) * 0.1964825501511404;\n  color += texture2D(image, uv + (off1 / resolution)) * 0.2969069646728344;\n  color += texture2D(image, uv - (off1 / resolution)) * 0.2969069646728344;\n  color += texture2D(image, uv + (off2 / resolution)) * 0.09447039785044732;\n  color += texture2D(image, uv - (off2 / resolution)) * 0.09447039785044732;\n  color += texture2D(image, uv + (off3 / resolution)) * 0.010381362401148057;\n  color += texture2D(image, uv - (off3 / resolution)) * 0.010381362401148057;\n  return color;\n}\n\nvec4 blur9(sampler2D image, vec2 uv, vec2 resolution, vec2 direction) {\n  vec4 color = vec4(0.0);\n  vec2 off1 = vec2(1.3846153846) * direction;\n  vec2 off2 = vec2(3.2307692308) * direction;\n  color += texture2D(image, uv) * 0.2270270270;\n  color += texture2D(image, uv + (off1 / resolution)) * 0.3162162162;\n  color += texture2D(image, uv - (off1 / resolution)) * 0.3162162162;\n  color += texture2D(image, uv + (off2 / resolution)) * 0.0702702703;\n  color += texture2D(image, uv - (off2 / resolution)) * 0.0702702703;\n  return color;\n}\n\nvec4 blur5(sampler2D image, vec2 uv, vec2 resolution, vec2 direction) {\n  vec4 color = vec4(0.0);\n  vec2 off1 = vec2(1.3333333333333333) * direction;\n  color += texture2D(image, uv) * 0.29411764705882354;\n  color += texture2D(image, uv + (off1 / resolution)) * 0.35294117647058826;\n  color += texture2D(image, uv - (off1 / resolution)) * 0.35294117647058826;\n  return color; \n}\n\nfloat gaussianPdf(in float x,in float sigma){\n  return .39894*exp(-.5*x*x/(sigma*sigma))/sigma;\n}\n\nvoid main(void){\n  gl_FragColor=blur5(texture,vUv,resolution,direction);\n}"}))}},{key:"resize",value:function(){this.uniforms.resolution.value.set(window.innerWidth/10,window.innerHeight/10)}}])&&m(t.prototype,e),r&&m(t,r),n}();function y(n,t){for(var e=0;e<t.length;e++){var r=t[e];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,r.key,r)}}var x=function(){function n(t,e){!function(n,t){if(!(n instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n),this.uniforms=null,this.tone=.7,this.strength=3,this.texBase=t,this.texBlur=e,this.mesh=this.createMesh()}var t,e,r;return t=n,(e=[{key:"createMesh",value:function(){return this.uniforms={tone:{type:"f",value:this.tone},strength:{type:"f",value:this.strength},texBase:{type:"t",value:this.texBase},texBlur:{type:"t",value:this.texBlur}},new i.k(new i.p(2,2),new i.u({uniforms:this.uniforms,vertexShader:"#define GLSLIFY 1\nvarying vec2 vUv;\n\nvoid main(void){\n  vUv=uv;\n  gl_Position=vec4(position,1.);\n}",fragmentShader:"#define GLSLIFY 1\nuniform float tone;\nuniform float strength;\nuniform sampler2D texBase;\nuniform sampler2D texBlur;\n\nvarying vec2 vUv;\n\nvoid main(void){\n  gl_FragColor=texture2D(texBase,vUv)*tone+texture2D(texBlur,vUv)*strength;\n}"}))}}])&&y(t.prototype,e),r&&y(t,r),n}();function p(n,t){for(var e=0;e<t.length;e++){var r=t[e];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,r.key,r)}}var b=function(){function n(t){!function(n,t){if(!(n instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n),this.blurCount=10,this.renderTarget=[new i.x(window.innerWidth/4,window.innerHeight/4),new i.x(window.innerWidth/4,window.innerHeight/4)],this.scene={bright:new i.t,blurh:new i.t,blurv:new i.t,bloom:new i.t},this.camera=new i.n(-1,1,1,-1,0,1),this.plane={bright:new d(t),blurh:new g(this.renderTarget[0].texture,new i.v(1,0)),blurv:new g(this.renderTarget[1].texture,new i.v(0,1)),bloom:new x(t,this.renderTarget[0].texture)},this.init()}var t,e,r;return t=n,(e=[{key:"init",value:function(){this.scene.bright.add(this.plane.bright.mesh),this.scene.blurh.add(this.plane.blurh.mesh),this.scene.blurv.add(this.plane.blurv.mesh),this.scene.bloom.add(this.plane.bloom.mesh)}},{key:"render",value:function(n){n.setRenderTarget(this.renderTarget[0]),n.render(this.scene.bright,this.camera);for(var t=0;t<this.blurCount;t++)n.setRenderTarget(this.renderTarget[1]),n.render(this.scene.blurh,this.camera),n.setRenderTarget(this.renderTarget[0]),n.render(this.scene.blurv,this.camera)}},{key:"resize",value:function(){this.renderTarget[0].setSize(window.innerWidth/4,window.innerHeight/4),this.renderTarget[1].setSize(window.innerWidth/4,window.innerHeight/4),this.plane.blurh.resize(),this.plane.blurv.resize()}}])&&p(t.prototype,e),r&&p(t,r),n}(),w=e(393),z=e.n(w),M="undefined"!==typeof Float32Array?Float32Array:Array,P=Math.random;Math.PI;function S(){var n=new M(3);return M!=Float32Array&&(n[0]=0,n[1]=0,n[2]=0),n}function k(n){var t=new M(3);return t[0]=n[0],t[1]=n[1],t[2]=n[2],t}function T(n){var t=n[0],e=n[1],r=n[2];return Math.hypot(t,e,r)}function D(n,t,e){var r=new M(3);return r[0]=n,r[1]=t,r[2]=e,r}function _(n,t){return n[0]=t[0],n[1]=t[1],n[2]=t[2],n}function A(n,t,e,r){return n[0]=t,n[1]=e,n[2]=r,n}function L(n,t,e){return n[0]=t[0]+e[0],n[1]=t[1]+e[1],n[2]=t[2]+e[2],n}function E(n,t,e){return n[0]=t[0]-e[0],n[1]=t[1]-e[1],n[2]=t[2]-e[2],n}function I(n,t,e){return n[0]=t[0]*e[0],n[1]=t[1]*e[1],n[2]=t[2]*e[2],n}function R(n,t,e){return n[0]=t[0]/e[0],n[1]=t[1]/e[1],n[2]=t[2]/e[2],n}function C(n,t){return n[0]=Math.ceil(t[0]),n[1]=Math.ceil(t[1]),n[2]=Math.ceil(t[2]),n}function F(n,t){return n[0]=Math.floor(t[0]),n[1]=Math.floor(t[1]),n[2]=Math.floor(t[2]),n}function j(n,t,e){return n[0]=Math.min(t[0],e[0]),n[1]=Math.min(t[1],e[1]),n[2]=Math.min(t[2],e[2]),n}function W(n,t,e){return n[0]=Math.max(t[0],e[0]),n[1]=Math.max(t[1],e[1]),n[2]=Math.max(t[2],e[2]),n}function Y(n,t){return n[0]=Math.round(t[0]),n[1]=Math.round(t[1]),n[2]=Math.round(t[2]),n}function B(n,t,e){return n[0]=t[0]*e,n[1]=t[1]*e,n[2]=t[2]*e,n}function O(n,t,e,r){return n[0]=t[0]+e[0]*r,n[1]=t[1]+e[1]*r,n[2]=t[2]+e[2]*r,n}function q(n,t){var e=t[0]-n[0],r=t[1]-n[1],i=t[2]-n[2];return Math.hypot(e,r,i)}function H(n,t){var e=t[0]-n[0],r=t[1]-n[1],i=t[2]-n[2];return e*e+r*r+i*i}function G(n){var t=n[0],e=n[1],r=n[2];return t*t+e*e+r*r}function U(n,t){return n[0]=-t[0],n[1]=-t[1],n[2]=-t[2],n}function X(n,t){return n[0]=1/t[0],n[1]=1/t[1],n[2]=1/t[2],n}function Z(n,t){var e=t[0],r=t[1],i=t[2],o=e*e+r*r+i*i;return o>0&&(o=1/Math.sqrt(o)),n[0]=t[0]*o,n[1]=t[1]*o,n[2]=t[2]*o,n}function V(n,t){return n[0]*t[0]+n[1]*t[1]+n[2]*t[2]}function N(n,t,e){var r=t[0],i=t[1],o=t[2],a=e[0],c=e[1],s=e[2];return n[0]=i*s-o*c,n[1]=o*a-r*s,n[2]=r*c-i*a,n}function J(n,t,e,r){var i=t[0],o=t[1],a=t[2];return n[0]=i+r*(e[0]-i),n[1]=o+r*(e[1]-o),n[2]=a+r*(e[2]-a),n}function K(n,t,e,r,i,o){var a=o*o,c=a*(2*o-3)+1,s=a*(o-2)+o,u=a*(o-1),l=a*(3-2*o);return n[0]=t[0]*c+e[0]*s+r[0]*u+i[0]*l,n[1]=t[1]*c+e[1]*s+r[1]*u+i[1]*l,n[2]=t[2]*c+e[2]*s+r[2]*u+i[2]*l,n}function Q(n,t,e,r,i,o){var a=1-o,c=a*a,s=o*o,u=c*a,l=3*o*c,f=3*s*a,v=s*o;return n[0]=t[0]*u+e[0]*l+r[0]*f+i[0]*v,n[1]=t[1]*u+e[1]*l+r[1]*f+i[1]*v,n[2]=t[2]*u+e[2]*l+r[2]*f+i[2]*v,n}function $(n,t){t=t||1;var e=2*P()*Math.PI,r=2*P()-1,i=Math.sqrt(1-r*r)*t;return n[0]=Math.cos(e)*i,n[1]=Math.sin(e)*i,n[2]=r*t,n}function nn(n,t,e){var r=t[0],i=t[1],o=t[2],a=e[3]*r+e[7]*i+e[11]*o+e[15];return a=a||1,n[0]=(e[0]*r+e[4]*i+e[8]*o+e[12])/a,n[1]=(e[1]*r+e[5]*i+e[9]*o+e[13])/a,n[2]=(e[2]*r+e[6]*i+e[10]*o+e[14])/a,n}function tn(n,t,e){var r=t[0],i=t[1],o=t[2];return n[0]=r*e[0]+i*e[3]+o*e[6],n[1]=r*e[1]+i*e[4]+o*e[7],n[2]=r*e[2]+i*e[5]+o*e[8],n}function en(n,t,e){var r=e[0],i=e[1],o=e[2],a=e[3],c=t[0],s=t[1],u=t[2],l=i*u-o*s,f=o*c-r*u,v=r*s-i*c,h=i*v-o*f,d=o*l-r*v,m=r*f-i*l,g=2*a;return l*=g,f*=g,v*=g,h*=2,d*=2,m*=2,n[0]=c+l+h,n[1]=s+f+d,n[2]=u+v+m,n}function rn(n,t,e,r){var i=[],o=[];return i[0]=t[0]-e[0],i[1]=t[1]-e[1],i[2]=t[2]-e[2],o[0]=i[0],o[1]=i[1]*Math.cos(r)-i[2]*Math.sin(r),o[2]=i[1]*Math.sin(r)+i[2]*Math.cos(r),n[0]=o[0]+e[0],n[1]=o[1]+e[1],n[2]=o[2]+e[2],n}function on(n,t,e,r){var i=[],o=[];return i[0]=t[0]-e[0],i[1]=t[1]-e[1],i[2]=t[2]-e[2],o[0]=i[2]*Math.sin(r)+i[0]*Math.cos(r),o[1]=i[1],o[2]=i[2]*Math.cos(r)-i[0]*Math.sin(r),n[0]=o[0]+e[0],n[1]=o[1]+e[1],n[2]=o[2]+e[2],n}function an(n,t,e,r){var i=[],o=[];return i[0]=t[0]-e[0],i[1]=t[1]-e[1],i[2]=t[2]-e[2],o[0]=i[0]*Math.cos(r)-i[1]*Math.sin(r),o[1]=i[0]*Math.sin(r)+i[1]*Math.cos(r),o[2]=i[2],n[0]=o[0]+e[0],n[1]=o[1]+e[1],n[2]=o[2]+e[2],n}function cn(n,t){var e=n[0],r=n[1],i=n[2],o=t[0],a=t[1],c=t[2],s=Math.sqrt(e*e+r*r+i*i)*Math.sqrt(o*o+a*a+c*c),u=s&&V(n,t)/s;return Math.acos(Math.min(Math.max(u,-1),1))}function sn(n){return n[0]=0,n[1]=0,n[2]=0,n}function un(n){return"vec3("+n[0]+", "+n[1]+", "+n[2]+")"}function ln(n,t){return n[0]===t[0]&&n[1]===t[1]&&n[2]===t[2]}function fn(n,t){var e=n[0],r=n[1],i=n[2],o=t[0],a=t[1],c=t[2];return Math.abs(e-o)<=1e-6*Math.max(1,Math.abs(e),Math.abs(o))&&Math.abs(r-a)<=1e-6*Math.max(1,Math.abs(r),Math.abs(a))&&Math.abs(i-c)<=1e-6*Math.max(1,Math.abs(i),Math.abs(c))}Math.hypot||(Math.hypot=function(){for(var n=0,t=arguments.length;t--;)n+=arguments[t]*arguments[t];return Math.sqrt(n)});var vn=E,hn=I,dn=R,mn=q,gn=H,yn=T,xn=G,pn=function(){var n=S();return function(t,e,r,i,o,a){var c,s;for(e||(e=3),r||(r=0),s=i?Math.min(i*e+r,t.length):t.length,c=r;c<s;c+=e)n[0]=t[c],n[1]=t[c+1],n[2]=t[c+2],o(n,n,a),t[c]=n[0],t[c+1]=n[1],t[c+2]=n[2];return t}}(),bn=function(n,t,e){r.scale(t,t,1/e),r.add(n,n,t)},wn=function(n,t){var e=[0,0,0];r.scale(e,n,-1),r.normalize(e,e),r.scale(e,e,r.length(n)*t),r.add(n,n,e)},zn=function(n,t,e,i,o){var a=[0,0,0];r.sub(a,n,e);var c=r.length(a)-i;r.normalize(a,a),r.scale(a,a,-1*o*c),r.add(t,t,a)};function Mn(n){return(Mn="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(n){return typeof n}:function(n){return n&&"function"===typeof Symbol&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n})(n)}function Pn(n,t){for(var e=0;e<t.length;e++){var r=t[e];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,r.key,r)}}function Sn(n,t){return(Sn=Object.setPrototypeOf||function(n,t){return n.__proto__=t,n})(n,t)}function kn(n){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(n){return!1}}();return function(){var e,r=Dn(n);if(t){var i=Dn(this).constructor;e=Reflect.construct(r,arguments,i)}else e=r.apply(this,arguments);return Tn(this,e)}}function Tn(n,t){return!t||"object"!==Mn(t)&&"function"!==typeof t?function(n){if(void 0===n)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}(n):t}function Dn(n){return(Dn=Object.setPrototypeOf?Object.getPrototypeOf:function(n){return n.__proto__||Object.getPrototypeOf(n)})(n)}var _n=function(n){!function(n,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");n.prototype=Object.create(t&&t.prototype,{constructor:{value:n,writable:!0,configurable:!0}}),t&&Sn(n,t)}(o,n);var t,e,r,i=kn(o);function o(n,t,e,r){var a;return function(n,t){if(!(n instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o),(a=i.call(this,n,t,e,r)).k=.02,a.d=.2,a.velocity=[0,0,0],a.acceleration=[0,0,0],a.anchor=[0,0,0],a.lookK=.02,a.lookD=.2,a.lookVelocity=[0,0,0],a.lookAcceleration=[0,0,0],a.lookAnchor=[0,0,0],a}return t=o,(e=[{key:"updatePosition",value:function(){zn(this.velocity,this.acceleration,this.anchor,0,this.k),wn(this.acceleration,this.d),bn(this.velocity,this.acceleration,1)}},{key:"updateLook",value:function(){zn(this.lookVelocity,this.lookAcceleration,this.lookAnchor,0,this.lookK),wn(this.lookAcceleration,this.lookD),bn(this.lookVelocity,this.lookAcceleration,1)}},{key:"render",value:function(){this.updatePosition(),this.updateLook(),this.position.set(this.velocity[0],this.velocity[1],this.velocity[2]),this.lookAt(this.lookVelocity[0],this.lookVelocity[1],this.lookVelocity[2])}}])&&Pn(t.prototype,e),r&&Pn(t,r),o}(i.o);function An(n,t){for(var e=0;e<t.length;e++){var r=t[e];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,r.key,r)}}var Ln=function(){function n(t){!function(n,t){if(!(n instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n),this.camera=t,this.radian1=0,this.radian1Base=0,this.radian2=0,this.radian2Base=0,this.radius=500,this.isZoom=!1}var t,e,i;return t=n,(e=[{key:"rotate",value:function(n,t){!0===this.isZoom&&(this.isZoom=!1),this.radian1=c(this.radian1Base+t,a(-75),a(75)),this.radian2=this.radian2Base-2*n}},{key:"zoom",value:function(n){if(n){!1===this.isZoom&&(this.isZoom=!0);this.radius;this.radius-=n/Math.abs(n)*200,this.radius=c(this.radius,700,8e3),this.radius}}},{key:"touchEnd",value:function(){this.radian1Base=this.radian1,this.radian2Base=this.radian2}},{key:"render",value:function(){this.camera.anchor=o(this.radian1,this.radian2,this.radius),this.camera.render()}},{key:"computeZoomLength",value:function(){return this.isZoom?.05*r.length(this.camera.acceleration):0}},{key:"computeAcceleration",value:function(){return.05*r.length(this.camera.acceleration)}}])&&An(t.prototype,e),i&&An(t,i),n}();var En=function n(){var t=this;!function(n,t){if(!(n instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n),this.init=function(){t.render_base=new i.x(window.innerWidth,window.innerHeight),t.scene_base=new i.t,t.camera_base=new _n(45,window.innerWidth/window.innerHeight,1,1e4),t.cameraController=new Ln(t.camera_base),t.camera=new i.n(-1,1,1,-1,0,1),t.scene=new i.t,t.renderer=new i.y({antialias:!0}),t.canvas=t.renderer.domElement,document.body.appendChild(t.canvas),t.renderer.setSize(window.innerWidth,window.innerHeight),t.renderer.setClearColor(2236962,0),t.clock=new i.c({autoStart:!1}),t.vectorTouchStart=new i.v,t.vectorTouchMove=new i.v,t.vectorTouchEnd=new i.v,t.isDrag=!1},this.animate=function(){t.stats.begin();var n=t.clock.getDelta();t.cameraController.render(),t.debris.render(n),t.octa.render(n),t.renderer.setRenderTarget(t.render_base),t.renderer.render(t.scene_base,t.camera_base),t.bloom.render(t.renderer),t.renderer.setRenderTarget(null),t.renderer.render(t.scene,t.camera),t.stats.end(),requestAnimationFrame((function(){return t.animate()}))},this.resizeWindow=function(){t.canvas.width=document.body.clientWidth,t.canvas.height=window.innerHeight,t.camera_base.aspect=document.body.clientWidth/window.innerHeight,t.camera_base.updateProjectionMatrix(),t.bloom.resize(),t.renderer.setSize(document.body.clientWidth,window.innerHeight),t.render_base.setSize(document.body.clientWidth,window.innerHeight)},this.touchStart=function(n){t.isDrag=!0},this.touchMove=function(n){t.isDrag&&t.cameraController.rotate(t.vectorTouchStart.x-t.vectorTouchMove.x,t.vectorTouchStart.y-t.vectorTouchMove.y)},this.touchEnd=function(n){t.isDrag=!1,t.cameraController.touchEnd()},this.mouseOut=function(){t.isDrag=!1},this.wheel=function(n){t.cameraController.zoom(n.deltaY)},this.on=function(){window.addEventListener("resize",function(n,t){var e;return function(){var r=this,i=arguments;clearTimeout(e),e=setTimeout((function(){return n.apply(r,i)}),t)}}((function(){t.resizeWindow()})),1e3),t.canvas.addEventListener("mousedown",(function(n){n.preventDefault(),t.vectorTouchStart.set(n.clientX,n.clientY),s(t.vectorTouchStart),t.touchStart(!1)})),document.addEventListener("mousemove",(function(n){n.preventDefault(),t.vectorTouchMove.set(n.clientX,n.clientY),s(t.vectorTouchMove),t.touchMove(!1)})),document.addEventListener("mouseup",(function(n){n.preventDefault(),t.vectorTouchEnd.set(n.clientX,n.clientY),s(t.vectorTouchEnd),t.touchEnd(!1)})),t.canvas.addEventListener("wheel",(function(n){n.preventDefault(),t.wheel(n)})),t.canvas.addEventListener("touchstart",(function(n){n.preventDefault(),t.vectorTouchStart.set(n.touches[0].clientX,n.touches[0].clientY),s(t.vectorTouchStart),t.touchStart(n.touches[0].clientX,n.touches[0].clientY,!0)})),t.canvas.addEventListener("touchmove",(function(n){n.preventDefault(),t.vectorTouchMove.set(n.touches[0].clientX,n.touches[0].clientY),s(t.vectorTouchMove),t.touchMove(!0)})),t.canvas.addEventListener("touchend",(function(n){n.preventDefault(),t.vectorTouchEnd.set(n.changedTouches[0].clientX,n.changedTouches[0].clientY),s(t.vectorTouchEnd),t.touchEnd(!0)}))},this.stats=new z.a,this.stats.showPanel(0),document.body.appendChild(this.stats.dom),this.init(),this.bloom=new b(this.render_base.texture),this.debris=new l,this.debris.init(),this.scene_base.add(this.debris.obj),this.octa=new v,this.octa.init(this.debris.plights,this.debris.rotates,this.debris.offsets),this.scene_base.add(this.octa.obj),this.scene.add(this.bloom.plane.bloom.mesh),this.clock.start(),this.resizeWindow(),this.on(),this.animate()}}}]);